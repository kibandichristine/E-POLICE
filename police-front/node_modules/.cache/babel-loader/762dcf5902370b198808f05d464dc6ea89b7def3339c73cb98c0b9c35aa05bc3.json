{"ast":null,"code":"import _createForOfIteratorHelper from \"/home/edwin/Desktop/police-front/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"/home/edwin/Desktop/police-front/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/edwin/Desktop/police-front/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n// https://github.com/python/cpython/blob/a74eea238f5baba15797e2e8b570d153bc8690a7/Modules/mathmodule.c#L1423\nexport var Adder = /*#__PURE__*/function () {\n  function Adder() {\n    _classCallCheck(this, Adder);\n    this._partials = new Float64Array(32);\n    this._n = 0;\n  }\n  _createClass(Adder, [{\n    key: \"add\",\n    value: function add(x) {\n      var p = this._partials;\n      var i = 0;\n      for (var j = 0; j < this._n && j < 32; j++) {\n        var y = p[j],\n          hi = x + y,\n          lo = Math.abs(x) < Math.abs(y) ? x - (hi - y) : y - (hi - x);\n        if (lo) p[i++] = lo;\n        x = hi;\n      }\n      p[i] = x;\n      this._n = i + 1;\n      return this;\n    }\n  }, {\n    key: \"valueOf\",\n    value: function valueOf() {\n      var p = this._partials;\n      var n = this._n,\n        x,\n        y,\n        lo,\n        hi = 0;\n      if (n > 0) {\n        hi = p[--n];\n        while (n > 0) {\n          x = hi;\n          y = p[--n];\n          hi = x + y;\n          lo = y - (hi - x);\n          if (lo) break;\n        }\n        if (n > 0 && (lo < 0 && p[n - 1] < 0 || lo > 0 && p[n - 1] > 0)) {\n          y = lo * 2;\n          x = hi + y;\n          if (y == x - hi) hi = x;\n        }\n      }\n      return hi;\n    }\n  }]);\n  return Adder;\n}();\nexport function fsum(values, valueof) {\n  var adder = new Adder();\n  if (valueof === undefined) {\n    var _iterator = _createForOfIteratorHelper(values),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var value = _step.value;\n        if (value = +value) {\n          adder.add(value);\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  } else {\n    var index = -1;\n    var _iterator2 = _createForOfIteratorHelper(values),\n      _step2;\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var _value = _step2.value;\n        if (_value = +valueof(_value, ++index, values)) {\n          adder.add(_value);\n        }\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  }\n  return +adder;\n}\nexport function fcumsum(values, valueof) {\n  var adder = new Adder();\n  var index = -1;\n  return Float64Array.from(values, valueof === undefined ? function (v) {\n    return adder.add(+v || 0);\n  } : function (v) {\n    return adder.add(+valueof(v, ++index, values) || 0);\n  });\n}","map":{"version":3,"names":["Adder","_partials","Float64Array","_n","x","p","i","j","y","hi","lo","Math","abs","n","fsum","values","valueof","adder","undefined","value","add","index","fcumsum","from","v"],"sources":["/home/edwin/Desktop/police-front/node_modules/d3-array/src/fsum.js"],"sourcesContent":["// https://github.com/python/cpython/blob/a74eea238f5baba15797e2e8b570d153bc8690a7/Modules/mathmodule.c#L1423\nexport class Adder {\n  constructor() {\n    this._partials = new Float64Array(32);\n    this._n = 0;\n  }\n  add(x) {\n    const p = this._partials;\n    let i = 0;\n    for (let j = 0; j < this._n && j < 32; j++) {\n      const y = p[j],\n        hi = x + y,\n        lo = Math.abs(x) < Math.abs(y) ? x - (hi - y) : y - (hi - x);\n      if (lo) p[i++] = lo;\n      x = hi;\n    }\n    p[i] = x;\n    this._n = i + 1;\n    return this;\n  }\n  valueOf() {\n    const p = this._partials;\n    let n = this._n, x, y, lo, hi = 0;\n    if (n > 0) {\n      hi = p[--n];\n      while (n > 0) {\n        x = hi;\n        y = p[--n];\n        hi = x + y;\n        lo = y - (hi - x);\n        if (lo) break;\n      }\n      if (n > 0 && ((lo < 0 && p[n - 1] < 0) || (lo > 0 && p[n - 1] > 0))) {\n        y = lo * 2;\n        x = hi + y;\n        if (y == x - hi) hi = x;\n      }\n    }\n    return hi;\n  }\n}\n\nexport function fsum(values, valueof) {\n  const adder = new Adder();\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        adder.add(value);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        adder.add(value);\n      }\n    }\n  }\n  return +adder;\n}\n\nexport function fcumsum(values, valueof) {\n  const adder = new Adder();\n  let index = -1;\n  return Float64Array.from(values, valueof === undefined\n      ? v => adder.add(+v || 0)\n      : v => adder.add(+valueof(v, ++index, values) || 0)\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}